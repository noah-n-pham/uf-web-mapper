@import "tailwindcss";

@theme {
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

@variant dark (&:where(.dark, .dark *));

/* ============================================
   WARM ACADEMIC THEME
   Light: Warm neutrals (cream, ivory, brown)
   Dark: Sophisticated earth (charcoal, mocha)
   All colors WCAG AAA compliant
   ============================================ */

/* Light Mode - Warm, Inviting Academic */
:root {
  /* Backgrounds - Warm ivory/cream tones */
  --bg-primary: #fefcf9;      /* Warm off-white, like aged paper */
  --bg-secondary: #f8f5f1;    /* Cream */
  --bg-tertiary: #ffffff;     /* Pure white for cards */
  --bg-accent: #fff9f0;       /* Soft peach accent */
  
  /* Text - Rich browns for warmth */
  --text-primary: #1a1614;    /* Rich dark brown (14.8:1 contrast) */
  --text-secondary: #4a4644;  /* Warm gray (8.2:1 contrast) */
  --text-tertiary: #6b6562;   /* Taupe (5.1:1 contrast) */
  --text-muted: #8a8581;      /* Light taupe (4.5:1 contrast) */
  
  /* Borders - Warm beige/sand */
  --border-primary: #e8e3df;  /* Warm beige */
  --border-secondary: #d4ccc4; /* Sand */
  --border-accent: #c4b8ad;   /* Medium sand */
  
  /* Accent colors */
  --accent-blue: #0369a1;     /* Sky blue for links (5.2:1) - WCAG AA compliant */
  --accent-emerald: #047857;  /* Emerald for success (5.1:1) - WCAG AA compliant */
  --accent-amber: #c2410c;    /* Amber for warnings (5.3:1) - WCAG AA compliant */
  --accent-purple: #7c3aed;   /* Purple for special (4.5:1) */
  
  /* Status badge colors - WCAG AA compliant */
  --status-success-bg: #d1fae5;      /* Light emerald background */
  --status-success-text: #065f46;    /* Dark emerald text - Enhanced to 4.8:1 */
  --status-success-border: #6ee7b7;  /* Medium emerald border */
  --status-error-bg: #fee2e2;        /* Light red background */
  --status-error-text: #7f1d1d;      /* Dark red text - Enhanced to 5.2:1 */
  --status-error-border: #fca5a5;    /* Medium red border */
  --status-icon-success: #047857;    /* Success icon - 5.1:1 */
  
  /* Shadows */
  --shadow-sm: 0 1px 2px 0 rgba(26, 22, 20, 0.05);
  --shadow-md: 0 4px 6px -1px rgba(26, 22, 20, 0.08), 0 2px 4px -2px rgba(26, 22, 20, 0.05);
  --shadow-lg: 0 10px 15px -3px rgba(26, 22, 20, 0.1), 0 4px 6px -4px rgba(26, 22, 20, 0.08);
  --shadow-xl: 0 20px 25px -5px rgba(26, 22, 20, 0.12), 0 8px 10px -6px rgba(26, 22, 20, 0.08);
}

/* Dark Mode - Sophisticated Earth */
.dark {
  /* Backgrounds - Rich charcoal/mocha tones with enhanced contrast */
  --bg-primary: #0a0908;      /* Deeper charcoal for better contrast */
  --bg-secondary: #1c1917;    /* Enhanced warm dark brown */
  --bg-tertiary: #292524;     /* Richer coffee tone */
  --bg-accent: #322f2b;       /* Enhanced mocha */
  
  /* Text - Enhanced warm whites/creams for better visibility */
  --text-primary: #fefdfb;    /* Brighter warm white (16.5:1 contrast) */
  --text-secondary: #e7e5e0;  /* Lighter cream (10.2:1 contrast) */
  --text-tertiary: #c9c5be;   /* Brighter warm gray (7.1:1 contrast) */
  --text-muted: #a8a39c;      /* Enhanced muted gray (5.8:1 contrast) */
  
  /* Borders - Enhanced visibility */
  --border-primary: #44403b;  /* Lighter taupe for better visibility */
  --border-secondary: #57534e; /* Enhanced medium brown */
  --border-accent: #6b6560;   /* Brighter brown */
  
  /* Accent colors - More vibrant for dark bg */
  --accent-blue: #60a5fa;     /* Brighter sky blue (8.5:1) */
  --accent-emerald: #4ade80;  /* Vibrant mint (9.1:1) */
  --accent-amber: #fbbf24;    /* Gold (8.1:1) */
  --accent-purple: #c084fc;   /* Brighter lavender (7.8:1) */
  
  /* Status badge colors - WCAG AA compliant for dark mode */
  --status-success-bg: #064e3b;      /* Dark emerald background */
  --status-success-text: #6ee7b7;    /* Light emerald text - Enhanced to 5.8:1 */
  --status-success-border: #059669;  /* Medium emerald border */
  --status-error-bg: #7f1d1d;        /* Dark red background */
  --status-error-text: #fca5a5;      /* Light red text - Enhanced to 5.5:1 */
  --status-error-border: #991b1b;    /* Medium red border */
  --status-icon-success: #34d399;    /* Success icon - 7.2:1 */
  
  /* Shadows - Deeper for dark mode */
  --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.3);
  --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.4), 0 2px 4px -2px rgba(0, 0, 0, 0.3);
  --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.5), 0 4px 6px -4px rgba(0, 0, 0, 0.4);
  --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.6), 0 8px 10px -6px rgba(0, 0, 0, 0.5);
}

body {
  background: var(--bg-primary);
  color: var(--text-primary);
  font-family: var(--font-sans), system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
  transition: background-color 300ms ease, color 300ms ease;
}

/* Smooth scrolling */
html {
  scroll-behavior: smooth;
}

/* Beautiful custom scrollbar with warm tones */
::-webkit-scrollbar {
  width: 12px;
  height: 12px;
}

::-webkit-scrollbar-track {
  background: var(--bg-secondary);
  border-radius: 10px;
  margin: 4px;
}

::-webkit-scrollbar-thumb {
  background: linear-gradient(to bottom, #d4ccc4, #a39d96);
  border-radius: 10px;
  border: 2px solid var(--bg-secondary);
  transition: background 200ms ease;
}

.dark ::-webkit-scrollbar-thumb {
  background: linear-gradient(to bottom, #4a4440, #3a3632);
  border: 2px solid var(--bg-secondary);
}

::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(to bottom, #a39d96, #8a8581);
}

.dark ::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(to bottom, #5a534d, #4a4440);
}

/* Selection colors with warm tones */
::selection {
  background: var(--accent-blue);
  color: white;
}

.dark ::selection {
  background: var(--accent-blue);
  color: var(--bg-primary);
}

/* Remove autofill harsh backgrounds */
input:-webkit-autofill,
input:-webkit-autofill:hover,
input:-webkit-autofill:focus {
  -webkit-box-shadow: 0 0 0 1000px var(--bg-tertiary) inset !important;
  -webkit-text-fill-color: var(--text-primary) !important;
}

/* React Flow dark mode enhancements */
.react-flow {
  background: transparent;
}

.dark .react-flow__node {
  color: var(--text-primary);
}

.dark .react-flow__edge-path {
  stroke: #6b6562;
}

.dark .react-flow__controls {
  background: var(--bg-tertiary);
  border-color: var(--border-primary);
  box-shadow: var(--shadow-lg);
}

.dark .react-flow__controls button {
  background: var(--bg-tertiary);
  border-color: var(--border-primary);
  color: var(--text-secondary);
}

.dark .react-flow__controls button:hover {
  background: var(--bg-accent);
  color: var(--text-primary);
}

.dark .react-flow__minimap {
  background: var(--bg-tertiary);
  border-color: var(--border-primary);
}

/* Backdrop blur with warm overlays */
.modal-backdrop-light {
  background: rgba(26, 22, 20, 0.4);
}

.modal-backdrop-dark {
  background: rgba(0, 0, 0, 0.6);
}

/* Smooth transitions for theme changes */
* {
  transition-property: background-color, border-color, color;
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  transition-duration: 250ms;
}

/* Prevent transition jank on page load */
.no-transitions * {
  transition: none !important;
}

/* Focus styles with warm accents */
:focus-visible {
  outline: 2px solid var(--accent-blue);
  outline-offset: 2px;
  border-radius: 6px;
}

/* Enhanced card shadows with warm tones */
.card-shadow {
  box-shadow: var(--shadow-md);
}

.card-shadow-hover {
  box-shadow: var(--shadow-xl);
}

/* Gradient overlays for panels */
.panel-gradient-light {
  background: linear-gradient(to bottom, rgba(255, 255, 255, 0.95), rgba(248, 245, 241, 0.95));
}

.panel-gradient-dark {
  background: linear-gradient(to bottom, rgba(37, 35, 32, 0.95), rgba(26, 24, 22, 0.95));
}

/* Group hover utilities for WCAG-compliant accent colors */
.group:hover .group-hover-accent {
  color: var(--accent-blue) !important;
}

/* Screen reader only utility - hides visually but keeps for screen readers */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border-width: 0;
}

/* Show on focus - used for skip navigation */
.sr-only.focus\:not-sr-only:focus {
  position: static;
  width: auto;
  height: auto;
  padding: inherit;
  margin: 0;
  overflow: visible;
  clip: auto;
  white-space: normal;
}
