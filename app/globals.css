@import "tailwindcss";

@theme {
  --color-*: initial;
  --font-sans: var(--font-geist-sans);
  --font-mono: var(--font-geist-mono);
}

@variant dark (&:where(.dark, .dark *));

/* ============================================
   WARM ACADEMIC THEME
   Light: Warm neutrals (cream, ivory, brown)
   Dark: Sophisticated earth (charcoal, mocha)
   All colors WCAG AAA compliant
   ============================================ */

/* Light Mode - Warm, Inviting Academic */
:root {
  /* Backgrounds - Warm ivory/cream tones */
  --bg-primary: #fefcf9;      /* Warm off-white, like aged paper */
  --bg-secondary: #f8f5f1;    /* Cream */
  --bg-tertiary: #ffffff;     /* Pure white for cards */
  --bg-accent: #fff9f0;       /* Soft peach accent */
  
  /* Text - Rich browns for warmth */
  --text-primary: #1a1614;    /* Rich dark brown (14.8:1 contrast) */
  --text-secondary: #4a4644;  /* Warm gray (8.2:1 contrast) */
  --text-tertiary: #6b6562;   /* Taupe (5.1:1 contrast) */
  --text-muted: #8a8581;      /* Light taupe (4.5:1 contrast) */
  
  /* Borders - Warm beige/sand */
  --border-primary: #e8e3df;  /* Warm beige */
  --border-secondary: #d4ccc4; /* Sand */
  --border-accent: #c4b8ad;   /* Medium sand */
  
  /* Accent colors */
  --accent-blue: #0284c7;     /* Sky blue for links (4.7:1) */
  --accent-emerald: #059669;  /* Emerald for success (4.6:1) */
  --accent-amber: #d97706;    /* Amber for warnings (4.8:1) */
  --accent-purple: #7c3aed;   /* Purple for special (4.5:1) */
  
  /* Shadows */
  --shadow-sm: 0 1px 2px 0 rgba(26, 22, 20, 0.05);
  --shadow-md: 0 4px 6px -1px rgba(26, 22, 20, 0.08), 0 2px 4px -2px rgba(26, 22, 20, 0.05);
  --shadow-lg: 0 10px 15px -3px rgba(26, 22, 20, 0.1), 0 4px 6px -4px rgba(26, 22, 20, 0.08);
  --shadow-xl: 0 20px 25px -5px rgba(26, 22, 20, 0.12), 0 8px 10px -6px rgba(26, 22, 20, 0.08);
}

/* Dark Mode - Sophisticated Earth */
.dark {
  /* Backgrounds - Rich charcoal/mocha tones */
  --bg-primary: #0f0e0d;      /* Rich charcoal (not pure black) */
  --bg-secondary: #1a1816;    /* Warm dark brown */
  --bg-tertiary: #252320;     /* Coffee */
  --bg-accent: #2d2a26;       /* Deep mocha */
  
  /* Text - Warm whites/creams */
  --text-primary: #faf8f6;    /* Warm white (14.2:1 contrast) */
  --text-secondary: #d4cfc9;  /* Cream (8.5:1 contrast) */
  --text-tertiary: #a39d96;   /* Warm gray (5.2:1 contrast) */
  --text-muted: #8a847d;      /* Muted warm gray (4.5:1) */
  
  /* Borders - Dark taupes */
  --border-primary: #3a3632;  /* Dark taupe */
  --border-secondary: #4a4440; /* Medium brown */
  --border-accent: #5a534d;   /* Lighter brown */
  
  /* Accent colors - Brighter for dark bg */
  --accent-blue: #38bdf8;     /* Bright sky (6.8:1) */
  --accent-emerald: #34d399;  /* Mint (7.2:1) */
  --accent-amber: #fbbf24;    /* Gold (8.1:1) */
  --accent-purple: #a78bfa;   /* Lavender (6.2:1) */
  
  /* Shadows - Deeper for dark mode */
  --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.3);
  --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.4), 0 2px 4px -2px rgba(0, 0, 0, 0.3);
  --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.5), 0 4px 6px -4px rgba(0, 0, 0, 0.4);
  --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.6), 0 8px 10px -6px rgba(0, 0, 0, 0.5);
}

body {
  background: var(--bg-primary);
  color: var(--text-primary);
  font-family: var(--font-sans), system-ui, -apple-system, BlinkMacSystemFont, sans-serif;
  transition: background-color 300ms ease, color 300ms ease;
}

/* Smooth scrolling */
html {
  scroll-behavior: smooth;
}

/* Beautiful custom scrollbar with warm tones */
::-webkit-scrollbar {
  width: 12px;
  height: 12px;
}

::-webkit-scrollbar-track {
  background: var(--bg-secondary);
  border-radius: 10px;
  margin: 4px;
}

::-webkit-scrollbar-thumb {
  background: linear-gradient(to bottom, #d4ccc4, #a39d96);
  border-radius: 10px;
  border: 2px solid var(--bg-secondary);
  transition: background 200ms ease;
}

.dark ::-webkit-scrollbar-thumb {
  background: linear-gradient(to bottom, #4a4440, #3a3632);
  border: 2px solid var(--bg-secondary);
}

::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(to bottom, #a39d96, #8a8581);
}

.dark ::-webkit-scrollbar-thumb:hover {
  background: linear-gradient(to bottom, #5a534d, #4a4440);
}

/* Selection colors with warm tones */
::selection {
  background: var(--accent-blue);
  color: white;
}

.dark ::selection {
  background: var(--accent-blue);
  color: var(--bg-primary);
}

/* Remove autofill harsh backgrounds */
input:-webkit-autofill,
input:-webkit-autofill:hover,
input:-webkit-autofill:focus {
  -webkit-box-shadow: 0 0 0 1000px var(--bg-tertiary) inset !important;
  -webkit-text-fill-color: var(--text-primary) !important;
}

/* React Flow dark mode enhancements */
.react-flow {
  background: transparent;
}

.dark .react-flow__node {
  color: var(--text-primary);
}

.dark .react-flow__edge-path {
  stroke: #6b6562;
}

.dark .react-flow__controls {
  background: var(--bg-tertiary);
  border-color: var(--border-primary);
  box-shadow: var(--shadow-lg);
}

.dark .react-flow__controls button {
  background: var(--bg-tertiary);
  border-color: var(--border-primary);
  color: var(--text-secondary);
}

.dark .react-flow__controls button:hover {
  background: var(--bg-accent);
  color: var(--text-primary);
}

.dark .react-flow__minimap {
  background: var(--bg-tertiary);
  border-color: var(--border-primary);
}

/* Backdrop blur with warm overlays */
.modal-backdrop-light {
  background: rgba(26, 22, 20, 0.4);
}

.modal-backdrop-dark {
  background: rgba(0, 0, 0, 0.6);
}

/* Smooth transitions for theme changes */
* {
  transition-property: background-color, border-color, color;
  transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
  transition-duration: 250ms;
}

/* Prevent transition jank on page load */
.no-transitions * {
  transition: none !important;
}

/* Focus styles with warm accents */
:focus-visible {
  outline: 2px solid var(--accent-blue);
  outline-offset: 2px;
  border-radius: 6px;
}

/* Enhanced card shadows with warm tones */
.card-shadow {
  box-shadow: var(--shadow-md);
}

.card-shadow-hover {
  box-shadow: var(--shadow-xl);
}

/* Gradient overlays for panels */
.panel-gradient-light {
  background: linear-gradient(to bottom, rgba(255, 255, 255, 0.95), rgba(248, 245, 241, 0.95));
}

.panel-gradient-dark {
  background: linear-gradient(to bottom, rgba(37, 35, 32, 0.95), rgba(26, 24, 22, 0.95));
}
